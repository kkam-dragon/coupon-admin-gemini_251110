# 📘 COUFUN B2C 연동 매뉴얼 – 상품정보 (Ver. 1.2)

**작성자:** ㈜티사이언티픽  
**최종 개정일:** 2020.08.21  
**문서 버전:** 1.2  

---

## 🕓 개정 이력

| 버전 | 개정일자 | 개정 내역 | 작성/개정자 | 확인자 |
|:----:|:----------|:-----------|:-------------|:--------|
| 1.0 | 2012-01-03 | 초안 작성 | 정철 | - |
| 1.1 | 2018-07-11 | 상용 URL 프로토콜 변경 | 송도화 | - |
| 1.2 | 2020-08-21 | 사명 변경 | 송도화 | - |

---

## 1️⃣ 개요

본 문서는 **㈜티사이언티픽 모바일커머스 시스템과의 연동에 필요한 상품정보 연동 규격**을 기술한다.  

### 🧭 Service Flow

1. 상품목록 요청  
2. 요청 데이터 검증  
3. 결과 리턴  
4. 목록 출력  

---

## 2️⃣ 시스템 정보

### ✅ 상품목록 URL

| 구분 | URL | 비고 |
|:----|:----|:----|
| **상용 URL** | `https://corp.coufun.kr:446/b2c_api/coufunProduct.do` |  |
| **테스트 URL** | `https://tcorp.coufun.kr:446/b2c_api/coufunProduct.do` |  |

### ⚙️ 연동정보
- **통신방식:** HTTP `GET` 또는 `POST`  
- **결과형식:** XML 리턴  

### ⚠️ 유의사항
1. 반드시 **테스트 서버를 통해 연동 구현 후 상용 적용**  
2. 등록되지 않은 IP는 **사전 등록 요청 필요**  
3. 상품정보는 **클라이언트 서버에 저장 후 사용**

---

## 3️⃣ 연동 인터페이스

### 📄 정의
클라이언트의 요청 데이터를 검증 후 결과 데이터를 XML 형태로 리턴한다.

### 🌐 연동 URL (테스트용)
```
https://tcorp.coufun.kr:446/b2c_api/coufunProduct.do?Parameter
```

---

## 4️⃣ 요청 파라미터

| 변수명 | 설명 | 최대길이 | 필수여부 |
|:------|:------|:----------|:----------|
| `POC_ID` | 고객사 ID | 10byte | ✅ 필수 |

---

## 5️⃣ 응답 파라미터

| 변수명 | 설명 | 최대길이 |
|:------|:------|:----------|
| `RESULT_CODE` | 실행 결과 코드 | 2byte |
| `RESULT_MSG` | 실행 결과 메시지 | 100byte |
| `LIST_CNT` | 상품 목록 개수 | Number |
| `CAT_ID` | 카테고리 ID | 10byte |
| `GOODS_ID` | 상품 ID | 10byte |
| `GOODS_NAME` | 상품명 | 150byte |
| `GOODS_ORI_PRICE` | 상품 정가 | Number |
| `GOODS_PRICE` | 상품 공급가 | Number |
| `GOODS_INFO` | 상품 정보 | 4000byte |
| `USE_GUIDE` | 이용 안내 | 4000byte |
| `EXC_BRANCH` | 교환처 | 50byte |
| `VALID_END_TYPE` | 유효기간 타입 | 1byte |
| `VALID_END_DATE` | 유효기간 | 8byte |
| `SEND_TYPE` | 문자 발송 타입 | 1byte |
| `IMAGE_PATH_S` | 상품 이미지 (소형) | 150byte |
| `IMAGE_PATH_M` | 상품 이미지 (중형) | 150byte |
| `IMAGE_PATH_B` | 상품 이미지 (대형) | 150byte |
| `IMAGE_SIZE_S_W` | 소형 이미지 가로(px) | Number |
| `IMAGE_SIZE_S_H` | 소형 이미지 세로(px) | Number |
| `IMAGE_SIZE_M_W` | 중형 이미지 가로(px) | Number |
| `IMAGE_SIZE_M_H` | 중형 이미지 세로(px) | Number |
| `IMAGE_SIZE_B_W` | 대형 이미지 가로(px) | Number |
| `IMAGE_SIZE_B_H` | 대형 이미지 세로(px) | Number |

---

### 📅 VALID_END_TYPE (유효기간 타입)

| 코드 | 설명 |
|:----|:------|
| `D` | 발송일로부터 N일까지 |
| `E` | 지정된 날짜까지 |

### ✉️ SEND_TYPE (발송타입)

| 코드 | 설명 |
|:----|:------|
| `M` | MMS (이미지 + 장문 문자) |
| `L` | LMS (장문 문자) |
| `N` | SMS (단문 문자) |
| `Z` | 발송 안 함 |

---

## 6️⃣ 응답 예시

### ✅ 성공 시
```xml
<?xml version="1.0" encoding="EUC-KR"?>
<PRODUCTLIST>
  <RESULT_CODE>00</RESULT_CODE>
  <RESULT_MSG>SUCCESS</RESULT_MSG>
  <LIST_CNT>1</LIST_CNT>
  <PRODUCT_INFO>
    <CAT_ID>001</CAT_ID>
    <GOODS_ID>ABC123</GOODS_ID>
    <GOODS_NAME>상품명</GOODS_NAME>
    <GOODS_ORI_PRICE>10000</GOODS_ORI_PRICE>
    <GOODS_PRICE>8000</GOODS_PRICE>
    <GOODS_INFO>상품 정보 내용</GOODS_INFO>
    <USE_GUIDE>이용 안내 내용</USE_GUIDE>
    <EXC_BRANCH>교환처</EXC_BRANCH>
    <VALID_END_TYPE>D</VALID_END_TYPE>
    <VALID_END_DATE>20201231</VALID_END_DATE>
    <SEND_TYPE>M</SEND_TYPE>
    <IMAGE_PATH_S>URL</IMAGE_PATH_S>
    <IMAGE_PATH_M>URL</IMAGE_PATH_M>
    <IMAGE_PATH_B>URL</IMAGE_PATH_B>
  </PRODUCT_INFO>
</PRODUCTLIST>
```

### ❌ 실패 시
```xml
<?xml version="1.0" encoding="EUC-KR"?>
<PRODUCTLIST>
  <RESULT_CODE>99</RESULT_CODE>
  <RESULT_MSG>ERROR MESSAGE</RESULT_MSG>
</PRODUCTLIST>
```

---

## 7️⃣ 결과 코드 명세

별도 문서 참조:  
**`COUFUN_B2C_연동규격서_결과코드명세.pdf`**

---

## 8️⃣ 문의처

- **담당부서:** 전산운영팀  
- **이메일:** [devops@tscientific.co.kr](mailto:devops@tscientific.co.kr)
